<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dragon Ball Legend Giveaway</title>
  <link rel="icon" type="image/jpeg" href="assets/dragon-ball-icon.jpg">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="photos-simplified.css">
</head>
<body>
  <!-- Background Video -->
  <video id="backgroundVideo" class="background-video" autoplay muted loop>
    <source src="assets/background.mp4" type="video/mp4">
  </video>

  <!-- Overlay -->
  <div class="overlay"></div>

  <!-- Page Wrapper -->
  <div class="page-wrapper">
    <!-- Header -->
    <header class="main-header">
      <div class="header-container">
        <div class="header-logo">
          <div class="logo-glow"></div>
          <img src="assets/dragon-ball-icon.jpg" alt="Dragon Ball" class="logo-icon">
          <div class="logo-text">
            <h1>Dragon Ball <span class="legend-highlight">Legend</span></h1>
            <p>Premium Giveaway Platform</p>
          </div>
        </div>
        <nav class="header-nav">
          <button id="adminLoginBtn" class="btn btn-admin">üîê Admin</button>
        </nav>
      </div>
      <div class="header-divider"></div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Sections Wrapper -->
      <div class="sections-wrapper">
        <!-- Left Column -->
        <div class="left-column">
          <!-- Giveaway Selector Card -->
          <div class="card card-modern">
            <div class="card-header-modern">
              <div class="card-icon-badge">üéÅ</div>
              <div class="card-title-section">
                <h3 class="card-title">Giveaways Disponibles</h3>
                <p class="card-subtitle">S√©lectionnez un giveaway pour participer</p>
              </div>
            </div>
            <div class="card-body-modern">
              <button id="publicSelectGiveawayBtn" class="btn btn-primary btn-block btn-lg">Voir les Giveaways</button>
            </div>
          </div>

          <!-- Giveaway Info Card -->
          <div id="giveawayInfoSection" class="card card-modern hidden">
            <div class="card-header-modern">
              <div class="card-icon-badge">üéØ</div>
              <div class="card-title-section">
                <h3 class="card-title" id="selectedGiveawayName">Giveaway Actif</h3>
                <p class="card-subtitle" id="giveawayDescription">-</p>
              </div>
              <button id="clearGiveawayBtn" class="btn btn-sm btn-ghost">‚Üê Retour</button>
            </div>
            <div class="card-body-modern">
              <div class="giveaway-info-compact">
                <div class="info-item">
                  <div class="info-item-icon">‚è∞</div>
                  <div class="info-item-content">
                    <span class="info-item-label">Temps Restant</span>
                    <p id="giveawayTimeLeft" class="info-item-value">-</p>
                  </div>
                </div>
                <div class="info-item">
                  <div class="info-item-icon">üë•</div>
                  <div class="info-item-content">
                    <span class="info-item-label">Participants</span>
                    <p id="giveawayParticipantCount" class="info-item-value">0</p>
                  </div>
                </div>
                <div class="info-item">
                  <div class="info-item-icon">üì∏</div>
                  <div class="info-item-content">
                    <span class="info-item-label">Photos</span>
                    <p id="giveawayPhotoCount" class="info-item-value">0</p>
                  </div>
                </div>
                <div class="info-item">
                  <div class="info-item-icon">üìÖ</div>
                  <div class="info-item-content">
                    <span class="info-item-label">Date de Fin</span>
                    <p id="giveawayEndDate" class="info-item-value">-</p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Photos Card -->
          <div id="photosSection" class="card card-modern hidden">
            <div class="card-header-modern">
              <div class="card-icon-badge">üì∑</div>
              <div class="card-title-section">
                <h3 class="card-title">Photos du Giveaway</h3>
              </div>
            </div>
            <div class="card-body-modern">
              <div id="publicGiveawayPhotosContainer" class="photos-container">
                <div id="publicGiveawayPhotosList" class="photos-list"></div>
              </div>
              <p id="noPublicPhotosMessage" class="empty-message" style="display: none;">Aucune photo disponible</p>
            </div>
          </div>

          <!-- Participation Card -->
          <div class="card card-modern card-accent">
            <div class="card-header-modern">
              <div class="card-icon-badge">‚ú®</div>
              <div class="card-title-section">
                <h3 class="card-title">Participer</h3>
                <p class="card-subtitle">Rejoignez la comp√©tition maintenant</p>
              </div>
            </div>
            <div class="card-body-modern">
              <div id="selectGiveawayFirstMessage" class="alert alert-warning" style="display: none;">
                <span class="alert-icon">‚ö†Ô∏è</span>
                <span>S√©lectionnez d'abord un giveaway</span>
              </div>
              <form id="participantForm" class="form-modern">
                <div class="form-group-modern">
                  <label for="nameInput" class="form-label">Votre Nom</label>
                  <input type="text" id="nameInput" class="input-modern" placeholder="Jean Dupont" maxlength="20" required>
                  <span class="form-help">2-20 caract√®res</span>
                </div>
                <button type="submit" class="btn btn-primary btn-block btn-lg">Participer Maintenant</button>
                <div id="messageBox" class="message-box"></div>
              </form>
            </div>
          </div>
        </div>

        <!-- Right Column -->
        <div class="right-column">
          <!-- Participants Card -->
          <div class="card card-modern">
            <div class="card-header-modern">
              <div class="card-icon-badge">üë§</div>
              <div class="card-title-section">
                <h3 class="card-title">Participants</h3>
              </div>
              <span class="badge" id="participantsCountBadge">0</span>
            </div>
            <div class="card-body-modern card-scroll">
              <div id="participantsList" class="participants-list">
                <p class="empty-message">Aucun participant</p>
              </div>
            </div>
          </div>

          <!-- Roulette Card -->
          <div class="card card-modern card-roulette">
            <div class="card-header-modern">
              <div class="card-icon-badge">üé°</div>
              <div class="card-title-section">
                <h3 class="card-title">Roulette</h3>
              </div>
            </div>
            <div class="card-body-modern card-center">
              <div class="roulette-wrapper">
                <canvas id="wheelCanvas" width="280" height="280" class="wheel"></canvas>
                <div class="pointer"></div>
              </div>
              <button id="spinButton" class="btn btn-success btn-block btn-lg">Lancer la Roulette</button>
              <div id="winnerDisplay" class="winner-card hidden">
                <div class="winner-animation"></div>
                <h4 class="winner-title">üèÜ GAGNANT!</h4>
                <p id="winnerName" class="winner-name">-</p>
                <button id="resetButton" class="btn btn-secondary btn-sm">R√©initialiser</button>
              </div>
            </div>
          </div>

          <!-- Statistics Card -->
          <div class="card card-modern card-stats">
            <div class="card-header-modern">
              <div class="card-icon-badge">üìä</div>
              <div class="card-title-section">
                <h3 class="card-title">Statistiques</h3>
              </div>
            </div>
            <div class="card-body-modern">
              <div class="stats-compact">
                <div class="stat-compact-item">
                  <div class="stat-icon-small">üë•</div>
                  <div>
                    <div class="stat-label-small">Participants</div>
                    <div id="participantCount" class="stat-value-small">0</div>
                  </div>
                </div>
                <div class="stat-compact-item">
                  <div class="stat-icon-small">üèÜ</div>
                  <div>
                    <div class="stat-label-small">Gagnants</div>
                    <div id="winnerCount" class="stat-value-small">0</div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Winners Card -->
          <div class="card card-modern">
            <div class="card-header-modern">
              <div class="card-icon-badge">üèÜ</div>
              <div class="card-title-section">
                <h3 class="card-title">Historique</h3>
                <p class="card-subtitle">Derniers gagnants</p>
              </div>
            </div>
            <div class="card-body-modern card-scroll">
              <div id="winnersList" class="winners-list">
                <p class="empty-message">Aucun gagnant pour le moment</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Admin Section -->
      <div class="card card-modern admin-section hidden" id="adminGiveawaySection">
        <div class="card-header-modern admin-header">
          <div class="card-icon-badge">‚öôÔ∏è</div>
          <div class="card-title-section">
            <h3 class="card-title">Gestion Admin</h3>
          </div>
          <span class="admin-badge">Admin Only</span>
        </div>
        <div class="card-body-modern">
          <div class="admin-actions">
            <button id="createNewGiveawayBtn" class="btn btn-primary">‚ûï Cr√©er Giveaway</button>
            <button id="selectGiveawayBtn" class="btn btn-secondary">üé° S√©lectionner</button>
          </div>

          <div class="admin-subsection">
            <h4>üì∏ Gestion des Photos</h4>
            <input type="file" id="giveawayPhotos" accept="image/*" multiple class="file-input">
            <button id="uploadPhotosBtn" class="btn btn-primary">Uploader</button>
            <div id="uploadMessage" class="message-box"></div>
            <div id="giveawayPhotosContainer" class="photos-container hidden">
              <div id="giveawayPhotosList" class="photos-list"></div>
              <button id="clearPhotosBtn" class="btn btn-danger">Supprimer</button>
            </div>
            <p id="noPhotosMessage" class="empty-message">Aucune photo</p>
          </div>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer class="main-footer">
      <p>&copy; 2026 Dragon Ball Legend. Tous droits r√©serv√©s.</p>
    </footer>
  </div>

  <!-- MODALS -->

  <!-- Giveaway Details Modal -->
  <div id="giveawayDetailsModal" class="modal hidden">
    <div class="modal-bg"></div>
    <div class="modal-box">
      <div class="modal-header">
        <h2 id="detailsGiveawayName" class="modal-title">Nom du Giveaway</h2>
        <button id="closeGiveawayDetailsModal" class="modal-close">&times;</button>
      </div>
      <div class="modal-body modal-scroll">
        <div class="giveaway-details-content">
          <p id="detailsGiveawayDescription" class="modal-description">-</p>
          
          <div class="details-grid">
            <div class="detail-box">
              <div class="detail-icon">‚è∞</div>
              <div class="detail-info">
                <span class="detail-label">Temps Restant</span>
                <p id="detailsGiveawayTimeLeft" class="detail-value">-</p>
              </div>
            </div>
            <div class="detail-box">
              <div class="detail-icon">üë•</div>
              <div class="detail-info">
                <span class="detail-label">Participants</span>
                <p id="detailsGiveawayParticipants" class="detail-value">0</p>
              </div>
            </div>
            <div class="detail-box">
              <div class="detail-icon">üì∏</div>
              <div class="detail-info">
                <span class="detail-label">Photos</span>
                <p id="detailsGiveawayPhotos" class="detail-value">0</p>
              </div>
            </div>
            <div class="detail-box">
              <div class="detail-icon">üìÖ</div>
              <div class="detail-info">
                <span class="detail-label">Date de Fin</span>
                <p id="detailsGiveawayEndDate" class="detail-value">-</p>
              </div>
            </div>
          </div>

          <div id="detailsGiveawayPhotosGallery" style="display: none;">
            <h3 class="details-section-title">üì∏ Galerie Photos</h3>
            <div class="details-photos-grid">
              <div id="detailsPhotosContainer" class="details-photos-list"></div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary btn-block" onclick="document.getElementById('giveawayDetailsModal').classList.add('hidden')">Fermer</button>
      </div>
    </div>
  </div>

  <!-- Admin Login Modal -->
  <div id="adminLoginModal" class="modal hidden">
    <div class="modal-bg"></div>
    <div class="modal-box modal-sm">
      <div class="modal-header">
        <h2 class="modal-title">üîê Connexion Admin</h2>
        <button id="closeAdminLoginModal" class="modal-close">&times;</button>
      </div>
      <div class="modal-body">
        <div class="form-group-modern">
          <label for="adminLoginPassword">Mot de passe Admin</label>
          <input type="password" id="adminLoginPassword" class="input-modern" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" autocomplete="current-password">
        </div>
        <div id="adminLoginMessage" class="message-box"></div>
      </div>
      <div class="modal-footer">
        <button id="adminLoginSubmitBtn" class="btn btn-primary btn-block">Se Connecter</button>
        <button id="closeAdminLoginBtn" class="btn btn-secondary btn-block">Annuler</button>
      </div>
    </div>
  </div>

  <!-- Create Giveaway Modal -->
  <div id="createGiveawayModal" class="modal hidden">
    <div class="modal-bg"></div>
    <div class="modal-box">
      <div class="modal-header">
        <h2 class="modal-title">üéÅ Cr√©er un Nouveau Giveaway</h2>
        <button id="closeCreateGiveawayModal" class="modal-close">&times;</button>
      </div>
      <div class="modal-body modal-scroll">
        <div class="form-group-modern">
          <label for="giveawayName">Nom du Giveaway *</label>
          <input type="text" id="giveawayName" class="input-modern" placeholder="Ex: Dragon Ball Z" maxlength="50" required>
          <span class="form-help">Maximum 50 caract√®res</span>
        </div>
        
        <div class="form-group-modern">
          <label for="giveawayDesc">Description</label>
          <textarea id="giveawayDesc" class="input-modern" placeholder="D√©crivez votre giveaway..." maxlength="500" rows="4"></textarea>
          <span class="form-help">Maximum 500 caract√®res</span>
        </div>

        <div class="form-row">
          <div class="form-group-modern">
            <label for="giveawayDays">Dur√©e - Jours</label>
            <input type="number" id="giveawayDays" class="input-modern" min="0" max="365" value="0">
          </div>
          <div class="form-group-modern">
            <label for="giveawayHours">Dur√©e - Heures</label>
            <input type="number" id="giveawayHours" class="input-modern" min="0" max="23" value="0">
          </div>
        </div>

        <div class="form-group-modern">
          <label for="giveawayPhotosInput">Photos (Max 5)</label>
          <input type="file" id="giveawayPhotosInput" class="input-modern file-input" accept="image/*" multiple>
          <span class="form-help">Formats accept√©s: JPG, PNG, GIF</span>
        </div>

        <div id="createGiveawayMessage" class="message-box"></div>
      </div>
      <div class="modal-footer">
        <button id="createGiveawayBtn" class="btn btn-primary btn-block">Cr√©er Giveaway</button>
        <button id="cancelCreateGiveawayBtn" class="btn btn-secondary btn-block">Annuler</button>
      </div>
    </div>
  </div>

  <!-- Select Giveaway Modal -->
  <div id="selectGiveawayModal" class="modal hidden">
    <div class="modal-bg"></div>
    <div class="modal-box">
      <div class="modal-header">
        <h2 class="modal-title">üé° Giveaways Disponibles</h2>
        <button id="closeSelectGiveawayModal" class="modal-close">&times;</button>
      </div>
      <div class="modal-body modal-scroll">
        <div id="giveawaysList" class="giveaways-list">
          <p class="empty-message">‚è≥ Chargement des giveaways...</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Upload Progress Modal -->
  <div id="uploadModal" class="modal hidden">
    <div class="modal-bg"></div>
    <div class="modal-box modal-sm">
      <div class="modal-header">
        <h2 class="modal-title">üì§ T√©l√©chargement en cours</h2>
      </div>
      <div class="modal-body">
        <div class="progress-bar">
          <div id="progressFill" class="progress-fill"></div>
        </div>
        <p id="uploadStatus" class="text-center upload-status">Pr√©paration du t√©l√©chargement...</p>
      </div>
    </div>
  </div>

  <!-- Admin Verification Modal -->
  <div id="adminModal" class="modal hidden">
    <div class="modal-bg"></div>
    <div class="modal-box modal-sm">
      <div class="modal-header">
        <h2 class="modal-title">üîê V√©rification Admin</h2>
        <button id="closeAdminModalBtn" class="modal-close">&times;</button>
      </div>
      <div class="modal-body">
        <p class="modal-description">Cette action requiert une authentification admin.</p>
        <div class="form-group-modern">
          <label for="adminPassword">Mot de passe</label>
          <input type="password" id="adminPassword" class="input-modern" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
        </div>
        <div id="adminMessage" class="message-box"></div>
      </div>
      <div class="modal-footer">
        <button id="adminSubmitBtn" class="btn btn-primary btn-block">V√©rifier</button>
        <button id="adminCancelBtn" class="btn btn-secondary btn-block">Annuler</button>
      </div>
    </div>
  </div>

  <!-- Success Modal -->
  <div id="participationModal" class="modal hidden">
    <div class="modal-bg"></div>
    <div class="modal-box modal-sm modal-success">
      <div class="modal-body">
        <div id="participationContent">
          <div class="success-icon">‚ú®</div>
          <h2 class="modal-title">Participation Confirm√©e!</h2>
          <p class="modal-description" id="participationMessage">Merci d'avoir particip√© au giveaway. Bonne chance!</p>
          <button id="closeParticipationModal" class="btn btn-primary close-btn btn-block">Fermer</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Photo Viewer -->
  <div id="fullscreenViewer" class="fullscreen-viewer hidden">
    <div class="viewer-container">
      <div class="viewer-header">
        <button id="closeViewer" class="viewer-close">‚úï</button>
        <span id="viewerCounter" class="viewer-counter">1/5</span>
      </div>
      <button id="prevViewer" class="viewer-arrow prev" title="Photo pr√©c√©dente">‚ùÆ</button>
      <img id="viewerImage" src="" alt="Photo">
      <button id="nextViewer" class="viewer-arrow next" title="Photo suivante">‚ùØ</button>
    </div>
  </div>

  <!-- Loading Spinner -->
  <div id="loadingSpinner" class="spinner hidden"></div>

  <script src="app.js"></script>
</body>
</html>
