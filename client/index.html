<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dragon Ball Legend Giveaway</title>
  <link rel="icon" type="image/jpeg" href="assets/dragon-ball-icon.jpg">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="photos-simplified.css">
</head>
<body>
  <!-- VidÃ©o de fond -->
  <video id="backgroundVideo" class="background-video" autoplay muted loop>
    <source src="assets/background.mp4" type="video/mp4">
    Votre navigateur ne supporte pas les vidÃ©os HTML5
  </video>

  <!-- Overlay sombre -->
  <div class="overlay"></div>

  <!-- Modal d'authentification admin (simple) -->
  <div id="adminLoginModal" class="modal hidden">
    <div class="modal-content">
      <button id="closeAdminLoginModal" class="close-modal-btn">&times;</button>
      <h2>ğŸ” Connexion Admin</h2>
      <p>Entrez le mot de passe pour accÃ©der Ã  la gestion du giveaway</p>
      <input
        type="password"
        id="adminLoginPassword"
        class="input"
        placeholder="Mot de passe admin"
      >
      <div class="modal-buttons">
        <button id="adminLoginSubmitBtn" class="btn btn-primary">Se Connecter</button>
        <button id="closeAdminLoginBtn" class="btn btn-secondary">Annuler</button>
      </div>
      <div id="adminLoginMessage" class="message-box"></div>
    </div>
  </div>

  <!-- Modal d'authentification admin (pour la roulette) -->
  <div id="adminModal" class="modal hidden">
    <div class="modal-content">
      <h2>ğŸ” Connexion Admin</h2>
      <p>Seul l'admin peut lancer la roulette</p>
      <input
        type="password"
        id="adminPassword"
        class="input"
        placeholder="Mot de passe admin"
      >
      <div class="modal-buttons">
        <button id="adminRoulettLoginBtn" class="btn btn-primary">Se Connecter</button>
        <button id="adminCancelBtn" class="btn btn-secondary">Annuler</button>
      </div>
      <div id="adminMessage" class="message-box"></div>
    </div>
  </div>

  <!-- Modal de participation -->
  <div id="participationModal" class="modal hidden">
    <div class="modal-content participation-modal">
      <button id="closeParticipationModal" class="close-modal-btn">&times;</button>
      <div id="participationContent"></div>
    </div>
  </div>

  <!-- Modal d'upload des photos -->
  <div id="uploadModal" class="modal hidden">
    <div class="modal-content upload-modal">
      <h2>ğŸ“¤ Upload en cours...</h2>
      <div class="upload-progress">
        <div class="progress-bar">
          <div class="progress-fill" id="progressFill"></div>
        </div>
        <p id="uploadStatus">PrÃ©paration de l'upload...</p>
      </div>
    </div>
  </div>

  <!-- Modal de galerie photos -->
  <div id="galleryModal" class="modal hidden">
    <div class="gallery-modal-content">
      <button id="closeGalleryModal" class="close-modal-btn">&times;</button>
      <div class="gallery-container">
        <button id="prevPhotoBtn" class="gallery-nav-btn prev">â®</button>
        <div class="gallery-image-wrapper">
          <img id="galleryImage" src="" alt="Photo du giveaway" class="gallery-image">
        </div>
        <button id="nextPhotoBtn" class="gallery-nav-btn next">â¯</button>
      </div>
      <div id="galleryCounter" class="gallery-counter"></div>
    </div>
  </div>

  <!-- Conteneur principal -->
  <div class="container">
    <!-- En-tÃªte -->
    <header class="header">
      <div class="header-top">
        <img src="assets/dragon-ball-icon.jpg" alt="Dragon Ball" class="header-icon">
        <div class="header-content">
          <h1>Dragon Ball Legend</h1>
          <p>Giveaway - Participez et tentez de gagner des prix incroyables!</p>
        </div>
        <button id="adminLoginBtn" class="btn btn-secondary header-admin-btn">ğŸ” Admin</button>
      </div>
    </header>

    <!-- Section du formulaire -->
    <section class="form-section">
      <form id="participantForm" class="form">
        <div class="form-group">
          <input
            type="text"
            id="nameInput"
            class="input"
            placeholder="Entrez votre nom"
            maxlength="20"
            required
          >
          <span class="input-info">2-20 caractÃ¨res (lettres, chiffres, espaces)</span>
        </div>

        <button type="submit" class="btn btn-primary">
          âœ¨ Participer au Giveaway
        </button>

        <div id="messageBox" class="message-box"></div>
      </form>
    </section>

    <!-- Statistiques -->
    <div class="stats">
      <div class="stat-card">
        <h3>ğŸ‘¥ Participants</h3>
        <p id="participantCount" class="stat-number">0</p>
      </div>
      <div class="stat-card">
        <h3>ğŸ† Gagnants</h3>
        <p id="winnerCount" class="stat-number">0</p>
      </div>
    </div>

    <!-- Section de la roulette -->
    <section class="roulette-section">
      <h2>ğŸ¡ La Grande Roulette</h2>
      <div class="roulette-container">
        <canvas id="wheelCanvas" width="300" height="300" class="wheel"></canvas>
        <div class="pointer"></div>
      </div>

      <button id="spinButton" class="btn btn-success">
        ğŸ¯ Lancer la Roulette
      </button>

      <div id="winnerDisplay" class="winner-display hidden">
        <h3>ğŸ† GAGNANT! ğŸ†</h3>
        <p id="winnerName" class="winner-name">-</p>
        <button id="resetButton" class="btn btn-secondary">
          RÃ©initialiser pour une nouvelle chance
        </button>
      </div>
    </section>

    <!-- Section Admin Giveaway -->
    <section class="giveaway-section" id="adminGiveawaySection" style="display:none;">
      <h2>ğŸ Gestion du Giveaway (Admin)</h2>
      <div class="giveaway-card">
        <div class="giveaway-upload">
          <h3>ğŸ“¸ Uploader les photos (Max 5)</h3>
          <input type="file" id="giveawayPhotos" accept="image/*" multiple class="file-input">
          <button id="uploadPhotosBtn" class="btn btn-primary">Uploader</button>
          <div id="uploadMessage" class="message-box"></div>
        </div>

        <div id="giveawayPhotosContainer" class="photos-container hidden">
          <div id="giveawayPhotosList" class="photos-list"></div>
          <button id="clearPhotosBtn" class="btn btn-secondary">Supprimer tout</button>
        </div>
        <p id="noPhotosMessage" class="empty-message">Aucune photo uploadÃ©e</p>
      </div>
    </section>

    <!-- Section Affichage des photos (visible Ã  tous) -->
    <section class="giveaway-display-section">
      <h2>ğŸ“· Photos du Giveaway</h2>
      <div id="publicGiveawayPhotosContainer" class="photos-container hidden">
        <div id="publicGiveawayPhotosList" class="photos-list"></div>
      </div>
      <p id="noPublicPhotosMessage" class="empty-message">Aucune photo pour le moment...</p>
    </section>

    <!-- Liste des participants -->
    <section class="participants-section">
      <h2>ğŸ“‹ Participants Actuels</h2>
      <div id="participantsList" class="participants-list">
        <p class="empty-message">Aucun participant pour le moment...</p>
      </div>
    </section>

    <!-- Historique des gagnants -->
    <section class="winners-section">
      <h2>ğŸ… Historique des Gagnants</h2>
      <div id="winnersList" class="winners-list">
        <p class="empty-message">Aucun gagnant pour le moment...</p>
      </div>
    </section>
  </div>

  <!-- Spinner de chargement -->
  <div id="loadingSpinner" class="spinner hidden"></div>

  <script src="app.js"></script>
</body>
</html>
